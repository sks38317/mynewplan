# 기후 기반 사회붕괴 예측 시뮬레이션 계획서

이 계획서는 2025년부터 2045년까지의 전 지구 기후 변화가  
각 지역의 이상기후, 자연재해, 사회 시스템 붕괴에 어떤 영향을 줄 수 있는지를 예측하기 위한 시뮬레이션 구축 로드맵입니다.

시뮬레이션은 기후대별 기온 예측 → 극한기후 발생빈도 → 사회적 혼란의 확산을  
단계적으로 연결하며, 기후뿐 아니라 식량, 정치, 무역 등 **사회 구조 변수**까지 반영합니다.

---

## 1. 기후대별 지역 정보 분류 및 실측 기후 자료 수집

### 목표
- 31개 Köppen-Geiger 기후대에 속하는 도시, 주, 국가 정보를 수집하고
- 2005–2024년의 실측 기후 데이터를 기반으로 지역별 기후 프로필을 구축

### 방법
- **Köppen-Geiger 1 km 해상도 GeoTIFF 지도**를 활용해 각 위치의 기후대 분류
- **GeoNames 도시좌표 데이터**를 기반으로 각 도시를 해당 기후대에 매핑
- ERA5-Land 데이터에서 월평균 2m 기온을 추출, 연평균으로 변환
  - **육지 마스크 적용** → 바다 타일 제외
- CO₂, CH₄, TSI, SAOD, ENSO, PM₂.₅ 등 외생 변수는 연평균으로 정리
- 결과:
  - `cities_by_zone.json`: 각 기후대에 포함되는 도시
  - `annual_temp_zone.csv`: 31개 기후대 × 20년 연평균 기온
  - `features_global.csv`: 외생 변수 연도별 표

---

## 2. 연평균 기온 예측 수식 구성 (비선형 항 포함)

### 목표
- 기후 변수 간의 가속, 상호작용, 계절성을 고려한 현실적인 예측 수식 구성

### 방법
- ΔCO₂, (ΔCO₂)², ΔCH₄, ENSO³, ΔCO₂×ENSO 등 파생 항목 생성
- **Fourier 계절 항(SIN/COS 1·2차)**을 포함하여 계절성 반영
- 각 기후대별로 **PolynomialFeatures + LassoCV**로 예측 수식 학습
  - 중요하지 않은 항목은 자동 제거
- 결과:
  - `temp_model_coefs.json`: 각 기후대별 수식의 항목과 계수
  - `temp_model_metrics.csv`: 수식 성능 지표 (RMSE, MAPE, R²)

---

## 3. 수식의 성능 평가 및 구조 개선

### 목표
- 수식이 실제 기온 변화와 잘 맞는지 확인하고 필요한 경우 구조를 수정

### 방법
- RMSE, MAPE, R²로 오차 측정
- 오차 큰 지역은:
  - 모델 복잡도 조정 (차수 ↑)
  - XGBoost, Gaussian Process 등 대체 알고리즘 검토
- 고위도 지역의 겨울 편향은 **계절항 추가로 보정**
- 잔차의 시간적·공간적 자기상관 분석
- 결과:
  - 개선된 예측 수식으로 전 기후대 갱신

---

## 4. 이상기후·재해 발생빈도 예측

### 목표
- 예측된 기온 및 외생 변수를 바탕으로 지역별 극한기후 및 재해 발생빈도를 추정

### 방법
- 입력: 기온 예측값, ENSO, CO₂, SAOD, PM₂.₅, 회복력 지수
- 출력: 폭염, 폭우, 강풍 등의 **건수 또는 발생 확률**
- 회귀 기반(XGBoost) 모델을 사용해 기후대별 예측 수행
- 결과는 정규화하여 다음 단계 RFIM에서 사용할 **hᵢ(t)** 생성

---

## 5. RFIM 입력용 외부 자극 벡터 hᵢ(t) 구성

### 목표
- 이상기후 발생 강도 + 사회 회복력 등 요소들을 조합하여  
  RFIM 모델에서 사용할 외부자극 값 생성

### 방법
- hᵢ(t)는 다음 항목의 가중 합으로 구성:
  - 정규화된 이상기후 발생 빈도
  - 피해액 또는 GDP 대비 피해비율
  - 회복력 지수 (ND-GAIN 등)
  - 온실가스/기온 지표
- 결과:
  - `h_field.npy`: 2025–2045년, 31개 기후대의 자극 시계열

---

## 6. RFIM 기반 사회 혼란·붕괴 시뮬레이션

### 목표
- 기후 충격과 이웃 영향에 따라 각 지역이 혼란 상태로 전이되는 확률을 예측

### 방법
- 노드: 31개 기후대 (또는 주 단위 확장 가능)
- 상태: 안정(+1) / 혼란(–1)
- 상호작용 행렬 Jᵢⱼ:
  - 기후 거리 + 무역 흐름 + 인구이동 데이터를 기반으로 구성
- 민감도 파라미터 β로 이웃 영향 조절
- 시뮬레이션: 2025–2045, 연 단위 또는 2년 단위 진행
- 결과:
  - `CollapseProb_2045.xlsx`: 각 지역 붕괴 확률

---

## 7. 사회경제·지정학 요인을 RFIM에 직접 반영

### 목표
- 식량, 무역, 정치, 군사, 문화 등 **사회 구조 변수**가 붕괴 전이에 영향을 주도록  
  RFIM의 외부장(hᵢ) 및 상호작용(Jᵢⱼ)에 직접 반영

### 방법
- 각 노드에 다음 변수 추가:
  - **식량자급률**: 생산/소비 비율
  - **무역의존도**: 수출입 합 / GDP
  - **정치체제 및 불안정성 지수** (WGI 등)
  - **군사력 및 분쟁이력**
  - **문화적 결속력 지수** (사회자본, 언어분열 등)
  - **외교관계 네트워크**
- 이 변수들은 다음에 반영됨:
  - 외부장 hᵢ(t): 회복력 성분으로 합산
  - 상호작용 Jᵢⱼ: 외교관계/무역 기반으로 연결 강화 또는 약화
- 결과:
  - `CollapseProb_2045_social.csv`: 사회 구조 반영 시뮬레이션 결과

---

## 8. 예측 검증 및 민감도 분석

### 목표
- 과거 구간(예: 2005–2020)을 활용하여 예측 정확도 확인
- 민감한 변수 및 파라미터를 조정하여 모델의 신뢰도 향상

### 방법
- 백테스트: 일부 연도 제외 후 예측값 vs 실제값 비교
- 평가 지표:
  - AUC (이진 분류 정확도)
  - Brier Score (확률 예측 정확도)
- 민감도 분석:
  - β, α 값 조절 시 결과 변화 추적
- 결과:
  - `evaluation_report.md`: 검증 보고서
  - `sensitivity_matrix.csv`: 주요 변수에 대한 민감도 정리
